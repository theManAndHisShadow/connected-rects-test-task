(()=>{var e={838:function(e){var t;t=()=>(()=>{"use strict";var e={523:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.emulateEvent=t.addMultipleEventHandlers=t.isObject=t.isArray=t.isLink=void 0,t.isLink=function(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(e)},t.isArray=function(e){return null!==e&&"Array"===e.constructor.name},t.isObject=function(e){return null!==e&&"Object"===e.constructor.name},t.addMultipleEventHandlers=function(e,t,o){e.forEach((function(e){e.addEventListener(t,(function(e){o(e)}))}))},t.emulateEvent=function(e,t){var o=document.createEvent("Events");o.initEvent(t,!0,!1),e.dispatchEvent(o)}},298:function(e,t){var o=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};function n(e){var t="\n/* generated by src/ts/lib/themes.ts generateCSSCode() function */\n    ";return Object.keys(e).forEach((function(n){var r=e[n].selector,s=o([],Object.keys(e[n].properties),!0).map((function(t){return"".concat(t,": ").concat(e[n].properties[t],";\n")})).join("");t+="\n".concat(r," {\n    ").concat(s,"}\n")})),t}function r(e,t){var o=document.head.querySelector(t);if(o)o.innerHTML=e;else{var n=document.createElement("style"),r=t.split("=")[0].replace(/\[+/gm,""),s=t.split("=")[1].replace(/(\]|\")+/gm,"");n.type="text/css",n.setAttribute(r,s),n.innerHTML=e,document.head.appendChild(n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateTheme=t.updateThemeCSS=t.generateCSSCode=void 0,t.generateCSSCode=n,t.updateThemeCSS=r,t.updateTheme=function(e){if(/css\/themes\/[a-zA-Z\-0-9]+\.css/.test(e)){var t=e,o=document.createElement("link");o.href=t,o.rel="stylesheet",document.head.appendChild(o)}else{var s=function(e){return{andromeda:{container:{selector:".json2html-container",properties:{background:"#23262E"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#9c967a"}},key:{selector:".json2html-key",properties:{color:"#00e8c6"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#ee5d43"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#ee5d43"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#f39c12"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#96E072"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#3B79C7"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#4e4f54"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#f92672"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#646b7c"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#8490a8"}}},daylight:{container:{selector:".json2html-container",properties:{background:"white"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#585858"}},key:{selector:".json2html-key",properties:{color:"blue"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"blueviolet"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#b44343"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#1e7fcc"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#4caf50"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#4caf50"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#9b9b9b"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#795548"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#646b7c"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#000000"}}},dracula:{container:{selector:".json2html-container",properties:{background:"#282a36"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#ffffff"}},key:{selector:".json2html-key",properties:{color:"#8be9fd"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#bd93f9"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#ff79c6"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#bd93f9"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#f1fa8c"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#ff79c6"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#6272a4"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#ffb86c"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#f8f8f2"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"white"}}},"github-dark":{container:{selector:".json2html-container",properties:{background:"#0d1117"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#afafaf"}},key:{selector:".json2html-key",properties:{color:"#c9d1d9"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#b392f0"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#ff79c6"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#9ecbff"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#9ecbff"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#9ecbff"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#6a737d"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#9ecbff"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#9ecbff"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#6a737d"}}},"github-light":{container:{selector:".json2html-container",properties:{background:"#ffffff"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#afafaf"}},key:{selector:".json2html-key",properties:{color:"#25292f"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#6f42c1"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#25292f"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#005cc5"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#0a3069"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#0a3069"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#6a737d"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#005cc5"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#005cc5"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#6a737d"}}},"gruvbox-dark":{container:{selector:".json2html-container",properties:{background:"#282828"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#585858"}},key:{selector:".json2html-key",properties:{color:"#98971A"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#B16286"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#8ec07c"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#B16286"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#458588"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#689D6A"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#504945"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#CC241D"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#A89984"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#6a737d"}}},"gruvbox-light":{container:{selector:".json2html-container",properties:{background:"#FBF1C7"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#9c967a"}},key:{selector:".json2html-key",properties:{color:"#98971A"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#B16286"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#CC241D"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#B16286"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#458588"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#689D6A"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#BDAE93"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#CC241D"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#7C6F64"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#7C6F64"}}},horizon:{container:{selector:".json2html-container",properties:{background:"#fffbf7"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#585858"}},key:{selector:".json2html-key",properties:{color:"#da103f"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#8a31b9"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#b44343"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#1766a5"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#f6661e"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#c14e15"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#9b9b9b"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#3f51b5"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#846e64"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"#black"}}},monokai:{container:{selector:".json2html-container",properties:{background:"#272822"}},spoilerToggle:{selector:".json2html-spoiler-toggle--collapsed, .json2html-spoiler-toggle--uncollapsed",properties:{color:"#585858"}},key:{selector:".json2html-key",properties:{color:"#F92672"}},valueTypeBoolean:{selector:".json2html-type__boolean",properties:{color:"#AE81FF"}},valueMinusSign:{selector:".json2html-value__minus-sign",properties:{color:"#f92672"}},valueTypeNumber:{selector:".json2html-type__number",properties:{color:"#AE81FF"}},valueTypeString:{selector:".json2html-type__string",properties:{color:"#E6DB74"}},valueTypeStringLink:{selector:".json2html-type__string a, .json2html-type__string a:visited",properties:{color:"#F8F8F2"}},valueTypeNull:{selector:".json2html-type__null",properties:{color:"#75715E"}},valueTypeUndefined:{selector:".json2html-type__undefined",properties:{color:"#FD971F"}},valueComplexItemSignature:{selector:".json2html-type__array, .json2html-type__object",properties:{color:"#66D9EF"}},collapseAllToggle:{selector:".json2html-collapse-all-toggle",properties:{color:"white"}}}}[e]}(e);r(n(s),'[data-style-origin="json2html"]')}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.json2html=void 0;var t=o(523),r=o(298);function s(e,t){t=t||e.parentElement.querySelector(".".concat("json2html-collapse-all-toggle"));var o="uncollapsed"==e.className.split("--")[1]?"collapse":"uncollapse";t&&(t.textContent="(".concat(o," all)"))}function i(e){var o=Object.keys(e.parsedJSON),n=[],r=document.createElement("div");return r.classList.add("json2html-container"),o.forEach((function(o){if((0,t.isArray)(e.parsedJSON[o])||(0,t.isObject)(e.parsedJSON[o])){var r=function(e){var o=e.depth+1,n=Object.values(e.itemValue),r=n.length>e.groupBigArrayItemsBy,l=r?function(e,t){for(var o=0,n={},r=function(r){var s=r*t>e.length?e.length:r*t,i="[".concat(o," ... ").concat(s-1,"]"),l=e.slice(o,s),a=[];l.forEach((function(e,t){a[t+o]=e})),o!==s&&(n[i]=a),o=r*t},s=0;s<=Math.ceil(e.length/t);s++)r(s);return n}(n,e.groupBigArrayItemsBy):e.itemValue,a=Object.values(l).length,p=i({depth:o,parsedJSON:l,renderNestedLength:e.renderNestedLength,highlightLinks:e.highlightLinks,openLinksInNewTab:e.openLinksInNewTab,collapseAll:e.collapseAll,showLevel:e.showLevel,showTypeOnHover:e.showTypeOnHover,groupBigArrayItemsBy:e.groupBigArrayItemsBy,isGroupItem:r});p.classList.add("json2html-nested-value");var c=document.createElement("div");c.classList.add("json2html-complex-pair"),c.setAttribute("data-tree-level","".concat(o));var u=document.createElement("span");u.textContent="â–¶",!0===e.collapseAll?(u.classList.add("json2html-spoiler-toggle--collapsed"),p.setAttribute("hidden","")):o<=e.showLevel?u.classList.add("json2html-spoiler-toggle--uncollapsed"):(u.classList.add("json2html-spoiler-toggle--collapsed"),p.setAttribute("hidden",""));var h=document.createElement("span");h.textContent=e.keyName+": ",h.classList.add("json2html-key");var d=document.createElement("span");d.textContent=e.itemValue.constructor.name,a>0&&(0,t.addMultipleEventHandlers)([u,h,d],"click",(function(e){var t="json2html-spoiler-toggle--collapsed",o="json2html-spoiler-toggle--uncollapsed";u.classList.contains(t)?(u.classList.remove(t),u.classList.add(o),p.removeAttribute("hidden")):(u.classList.add(t),u.classList.remove(o),p.setAttribute("hidden","")),s(u)}));var y,g,m=e.itemValue.constructor.name,v=m[0].toLowerCase()+m.slice(1);if(!0===e.renderNestedLength)if((0,t.isArray)(e.itemValue)){var f=e.itemValue.length;if(e.isGroupItem){var _=Number(e.keyName.split(" ... ")[0].replace("[",""));f=Number(e.keyName.split(" ... ")[1].replace("]",""))-_+1}var b=0==f?"empty":f,j="empty"==b?"":1==b?" item":" items";d.textContent+=" (".concat(b).concat(j,")")}else(0,t.isObject)(e.itemValue)&&0===Object.keys(e.itemValue).length&&(d.textContent+=" (empty)");return d.classList.add("json2html-type__"+v),Object.values(l).length>0&&c.appendChild(u),c.appendChild(h),c.appendChild(d),Object.values(l).length>0&&(y=l,g=!1,Object.values(y).forEach((function(e){null!==e&&((0,t.isObject)(e)||(0,t.isArray)(e))&&(g=!0)})),g)&&function(e){var o="json2html-collapse-all-toggle",n=e.renderIn.querySelector("".concat(o)),r=n||document.createElement("span");n||(r.className=o),s(e.targetSpoiler,r),r.addEventListener("click",(function(o){e.renderIn.querySelectorAll("."+e.targetSpoiler.className).forEach((function(e){(0,t.emulateEvent)(e,"click"),s(e)}))})),n||e.renderIn.appendChild(r)}({targetSpoiler:u,renderIn:c,collapsed:e.collapseAll,nestedObject:l}),Object.values(l).length>0&&c.appendChild(p),c}({depth:e.depth,keyName:o,itemValue:e.parsedJSON[o],renderNestedLength:e.renderNestedLength,highlightLinks:e.highlightLinks,openLinksInNewTab:e.openLinksInNewTab,collapseAll:e.collapseAll,showLevel:e.showLevel,showTypeOnHover:e.showTypeOnHover,groupBigArrayItemsBy:e.groupBigArrayItemsBy,isGroupItem:e.isGroupItem});n.push(r)}else{var l=function(e){var o=document.createElement("div");o.classList.add("json2html-pair");var n=document.createElement("span");n.textContent=e.keyName+": ",n.classList.add("json2html-key");var r=document.createElement("span");if("number"==typeof e.itemValue&&e.itemValue<0){var s=document.createElement("span");s.classList.add("json2html-value__minus-sign"),s.textContent="-",r.appendChild(s),r.innerHTML+=Math.abs(e.itemValue)}else r.textContent=function(e){var t="string"==typeof e,o=e;return null==e&&(o="".concat(e)),t&&(o='"'.concat(e,'"')),o}(e.itemValue);if(!0===e.showTypeOnHover){var i=null==e.itemValue?"null":typeof e.itemValue;!0===e.highlightLinks&&(0,t.isLink)(e.itemValue)&&(i="string (clickable link)"),r.setAttribute("title",i)}if(!0===e.highlightLinks&&(0,t.isLink)(e.itemValue)){var l=document.createElement("a");!0===e.openLinksInNewTab&&l.setAttribute("target","_blank"),l.href=e.itemValue,l.textContent='"'.concat(e.itemValue,'"'),r.textContent="",r.appendChild(l)}return r.classList.add("json2html-value"),r.classList.add(function(e){return"json2html-type__"+(null==e||"undefined"==e?e:typeof e)}(e.itemValue)),o.appendChild(n),o.appendChild(r),o}({keyName:o,itemValue:e.parsedJSON[o],highlightLinks:e.highlightLinks,openLinksInNewTab:e.openLinksInNewTab,showTypeOnHover:e.showTypeOnHover});n.push(l)}})),n.forEach((function(e){r.appendChild(e)})),r}e.json2html=function(e){var t;e.rootName=e.rootName||"json",e.renderNestedLength=0!=e.renderNestedLength,e.highlightLinks=0!=e.highlightLinks,e.openLinksInNewTab=0!=e.openLinksInNewTab,e.collapseAll=1==e.collapseAll,e.showLevel=e.showLevel||1,e.showTypeOnHover=0!=e.showTypeOnHover,e.theme=e.theme||"andromeda",e.groupBigArrayItemsBy=e.groupBigArrayItemsBy<=25?25:e.groupBigArrayItemsBy||100,(0,r.updateTheme)(e.theme);try{var o=JSON.parse(e.json);return i({depth:0,parsedJSON:(t={},t[e.rootName]=o,t),renderNestedLength:e.renderNestedLength,highlightLinks:e.highlightLinks,openLinksInNewTab:e.openLinksInNewTab,collapseAll:e.collapseAll,showLevel:e.showLevel,showTypeOnHover:e.showTypeOnHover,groupBigArrayItemsBy:e.groupBigArrayItemsBy,isGroupItem:!1})}catch(t){e.onError(t)}}})(),n})(),e.exports=t()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}(()=>{"use strict";function e(e){return{carbon:"rgba(14, 14, 14, 1)",darkRed:"rgba(38, 12, 12, 1)",brightRed:"rgba(114, 6, 6, 1)",darkBlue:"rgba(12, 16, 38, 1)",brightBlue:"rgba(9, 12, 104, 1)",darkGreen:"rgba(12, 38, 12, 1)",brightGreen:"rgba(6, 114, 6, 1)"}[e]}function t(e,t){return t=Math.max(0,Math.min(t,1)),e.split(", ").map((function(e,o){return 3==o&&(e=t+")"),e})).join(", ")}function n(e,t){var o=e.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}function r(e,t,o,n,r){return Math.pow(e-o,2)+Math.pow(t-n,2)<=Math.pow(r,2)}const s=function(){function e(e,t){this.uniqueIDs=new Set,this.parent=e;var o=document.createElement("canvas");if(o.width=this.parent.width,o.height=this.parent.height,o.classList.add(t),this.body=o,this.context=o.getContext("2d"),!this.context)throw new Error("Failed to get 2D drawing context.");this.children=[]}return e.prototype.getUniqueID=function(){var e;do{e=Math.floor(1e4*Math.random())+1}while(this.uniqueIDs.has(e));return this.uniqueIDs.add(e),e},e.prototype.fill=function(e){this.context.fillStyle=e,this.context.fillRect(0,0,this.parent.width,this.parent.height)},e.prototype.appendChild=function(e){e.id=this.getUniqueID(),this.children.push(e)},e.prototype.render=function(){this.context.clearRect(0,0,this.parent.width,this.parent.height);for(var e=0,t=this.children;e<t.length;e++)t[e].renderAt(this.context)},e}();const i=function(){function e(e,t,o){this.width=t,this.height=o,this.background=new s(this,"app-canvas__background"),this.foreground=new s(this,"app-canvas__foreground");var n=document.createElement("div");n.classList.add("app-canvas__container"),n.appendChild(this.background.body),n.appendChild(this.foreground.body),n.style.width="".concat(t,"px"),n.style.height="".concat(o,"px"),document.querySelector(e).appendChild(n)}return e.prototype.addEventListener=function(e,t){this.foreground.body.addEventListener(e,(function(e){t(e)}))},e.prototype.processIntersectionsWithMouse=function(){var e=this;this.addEventListener("mousedown",(function(t){if(e.isMousePressed=!0,t instanceof MouseEvent)for(var o=n(e.foreground.body,t),s=0,i=e.foreground.children;s<i.length;s++)for(var l=i[s],a=0,p=Object.values(l.ports);a<p.length;a++){var c=p[a],u=c.connectionPoint.point;r(o.x,o.y,u.x,u.y,c.r)&&c.dispatchEvent("click",{target:c})}})),this.addEventListener("mouseup",(function(t){if(e.isMousePressed=!1,t instanceof MouseEvent)for(var o=n(e.foreground.body,t),r=0,s=e.foreground.children;r<s.length;r++){var i=s[r];a=i,void 0===(p=void 0)&&(p=0),(l=o).x>=a.position.x-p&&l.x<=a.position.x+a.size.width+p&&l.y>=a.position.y-p&&l.y<=a.position.y+a.size.height+p&&i.dispatchEvent("mouseup",{target:i})}var l,a,p})),this.addEventListener("mousemove",(function(t){if(t instanceof MouseEvent){for(var o=n(e.foreground.body,t),s={x:0,y:0},i=0,l=e.foreground.children;i<l.length;i++){var a=l[i];if(o.x>=a.position.x&&o.x<=a.position.x+a.size.width&&o.y>=a.position.y&&o.y<=a.position.y+a.size.height){var p={target:a,mousePosition:o,offset:{}};a.dispatchEvent("mousemove",p),a.eventStates.mousemove=!0,a.eventStates.mouseover||(a.dispatchEvent("mouseover",p),a.eventStates.mouseover=!0,a.eventStates.mouseout=!1),e.isMousePressed&&(p.offset={x:o.x-s.x,y:o.y-s.y},a.dispatchEvent("drag",p),s=o,a.eventStates.drag=!0),!e.isMousePressed&&a.eventStates.drag&&(a.dispatchEvent("dragend",p),a.eventStates.drag=!1)}else a.eventStates.mouseout||(a.dispatchEvent("mouseout",{target:a}),a.eventStates.mouseout=!0,a.eventStates.mouseover=!1),a.eventStates.mousemove=!1}for(var c=0,u=e.foreground.children;c<u.length;c++){a=u[c];for(var h=0,d=Object.values(a.ports);h<d.length;h++){var y=d[h],g=y.connectionPoint.point;r(o.x,o.y,g.x,g.y,y.hoverR)?y.eventStates.hoveron||(y.dispatchEvent("hoveron",{target:y}),y.eventStates.hoveron=!0,y.eventStates.hoveroff=!1):y.eventStates.hoveroff||(y.dispatchEvent("hoveroff",{target:y}),y.eventStates.hoveroff=!0,y.eventStates.hoveron=!1),r(o.x,o.y,g.x,g.y,2*y.r)?y.eventStates.mouseover||(y.dispatchEvent("mouseover",{target:y}),y.eventStates.mouseover=!0,y.eventStates.mouseout=!1):y.eventStates.mouseout||(y.dispatchEvent("mouseout",{target:y}),y.eventStates.mouseout=!0,y.eventStates.mouseover=!1)}}}}))},e}();var l=function(e,t,o){if(o||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};const a=function(){function e(e){var t=e.parent,o=e.gridLineColor,n=e.gridPointColor,r=e.gridLineThickness;this.parent=t,this.points=this.generate(),this.gridLineColor=o,this.gridLineThickness=r,this.gridPointColor=n}return e.prototype.generate=function(){var e,t=function(e,t){var o=t.x,n=t.y,r=e.size,s=r.width,i=r.height,l=s/2,a=i/2,p=e.style.margin;return{centerPoint:{x:o+l,y:n+a},topCenterPoint:{x:o+l,y:n-p},leftCenterPoint:{x:o-p,y:n+a},bottomCenterPoint:{x:o+l,y:n+i+p},rightCenterPoint:{x:o+s+p,y:n+a},leftTopPoint:{x:o-p,y:n-p},leftBottomPoint:{x:o-p,y:n+i+p},rightTopPoint:{x:o+s+p,y:n-p},rightBottomPoint:{x:o+s+p,y:n+i+p}}},o=function(e,t){return t.map((function(t){return{x:t,y:e}}))},n=[],r=this.parent.endPoints[0],s=this.parent.endPoints[1],i=t(r.parent,r.parent.position),a=t(r.parent,{x:r.parent.position.x,y:s.parent.position.y}),p=t(s.parent,s.parent.position),c=t(s.parent,{x:s.parent.position.x,y:r.parent.position.y}),u=i.centerPoint,h=p.centerPoint,d=(u.x+h.x)/2,y=(u.y+h.y)/2,g=l(l(l([],(e=d,[i.leftTopPoint.y,i.centerPoint.y,i.leftBottomPoint.y,y,a.leftTopPoint.y,a.centerPoint.y,a.leftBottomPoint.y].map((function(t){return{x:e,y:t}}))),!0),o(y,[i.leftTopPoint.x,i.centerPoint.x,i.rightBottomPoint.x]),!0),o(y,[p.leftTopPoint.x,p.centerPoint.x,p.rightBottomPoint.x]),!0);return delete i.centerPoint,delete p.centerPoint,n.push.apply(n,Object.values(i)),n.push.apply(n,Object.values(a)),n.push.apply(n,Object.values(p)),n.push.apply(n,Object.values(c)),n.push.apply(n,g),n},e.prototype.update=function(){this.points=this.generate()},e.prototype.renderAt=function(e){if(!(this.points.length<2)){e.strokeStyle="rgba(255, 255, 255, 0.1)",e.lineWidth=1;var t=function(e,t){var o=new Map;return e.forEach((function(e){var n=e[t];o.has(n)||o.set(n,[]),o.get(n).push(e)})),o};t(this.points,"y").forEach((function(t){e.beginPath(),t.sort((function(e,t){return e.x-t.x}));for(var o=0;o<t.length-1;o++)e.moveTo(t[o].x,t[o].y),e.lineTo(t[o+1].x,t[o+1].y);e.stroke(),e.closePath()})),t(this.points,"x").forEach((function(t){e.beginPath(),t.sort((function(e,t){return e.y-t.y}));for(var o=0;o<t.length-1;o++)e.moveTo(t[o].x,t[o].y),e.lineTo(t[o+1].x,t[o+1].y);e.stroke(),e.closePath()})),this.points.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,2,0,2*Math.PI,!1),e.fillStyle="magenta",e.fill(),e.closePath()}))}},e}();var p=function(){function e(e,t){this.endPoints=[e,t],this.grid=new a({parent:this,gridLineColor:"rgba(255, 255, 255, 0.1)",gridPointColor:"magenta",gridLineThickness:1}),this.points=this.buildPathTrace()}return e.prototype.buildPathTrace=function(){var e=this.endPoints[0],t=this.endPoints[1],o=e.parent,n=t.parent;return console.log(this),this.findShortestPath(o,e,n,t)},e.prototype.findShortestPath=function(e,t,o,n){return[]},e.prototype.updatePath=function(){this.points=this.buildPathTrace(),this.grid.update()},e.prototype.renderSegmentsAt=function(e){var t=!0;e.beginPath(),e.lineWidth=1,e.strokeStyle="rgba(100, 100, 100, 1)";for(var o=0;o<this.points.length;o++){var n=this.points[o];t?(e.moveTo(n.x,n.y),t=!1):e.lineTo(n.x,n.y),e.stroke()}e.closePath()},e.prototype.renderAt=function(e){this.renderSegmentsAt(e),"true"==localStorage.getItem("renderGrid")&&this.grid.renderAt(e)},e}();const c=p,u=function(){function e(){this.events={},this.eventStates={mouseout:!1,mouseover:!1,mouseup:!0,mousedown:!1,mousemove:!1,hoveron:!1,hoveroff:!1,drag:!1}}return e.prototype.addEventListener=function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},e.prototype.dispatchEvent=function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))},e}();var h,d=(h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},h(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});const y=function(e){function t(t){var o=e.call(this)||this;return o.connectionPoint={point:{x:t.x,y:t.y},angle:t.angle},o.letter=t.letter,o.parent=t.parent,o.r=t.r,o.hoverR=10*o.r,o.isBusy=!1,o.endPoint=null,o.connection=null,o.style={visibility:!1,fillColor:"rgba(255, 255, 255, 0.2",borderColor:"rgba(255, 255, 255, 0.2",borderThickness:0},o}return d(t,e),t.prototype.connectTo=function(e){this.endPoint=e,e.endPoint=this,this.isBusy=!0,e.isBusy=!0,this.connection=new c(this,this.endPoint),this.endPoint.connection=this.connection},t.prototype.reconnect=function(){this.connection=new c(this,this.endPoint),this.endPoint.connection=this.connection},t.prototype.renderAt=function(e){null!==this.connection&&this.connection.renderAt(e),this.style.visibility&&(e.beginPath(),e.arc(this.connectionPoint.point.x,this.connectionPoint.point.y,this.r,0,2*Math.PI,!1),e.fillStyle=this.isBusy?"rgba(125, 125, 125, 0.3)":this.parent.style.fillColor,e.strokeStyle=this.isBusy?"rgba(155, 155, 155, 0.4)":this.parent.style.borderColor,e.fill(),e.stroke(),e.closePath())},t}(u);var g=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const m=function(e){function o(t){var o,n,r=e.call(this)||this;return t.id=null!==(o=t.id)&&void 0!==o?o:null,t.style.margin=null!==(n=t.style.margin)&&void 0!==n?n:10,Object.assign(r,t),r.id=null,r}return g(o,e),o.prototype.updateOpacity=function(e){this.style.fillColor=t(this.style.fillColor,e),this.style.borderColor=t(this.style.borderColor,e)},o.prototype.isIntersectsWith=function(e){for(var t=0,o=e;t<o.length;t++){var n=o[t];if(this.id!==n.id&&this.position.x+this.size.width+2>=n.position.x&&this.position.x-2<=n.position.x+n.size.width&&this.position.y+this.size.height+2>=n.position.y&&this.position.y-2<=n.position.y+n.size.height)return!0}return!1},o.prototype.renderAt=function(e){},o}(u);var v=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const f=function(e){function t(t){var o=e.call(this,t)||this;return Object.assign(o,t),o.ports={A:new y({letter:"A",parent:o,angle:180,r:3,x:o.position.x-o.style.margin,y:o.position.y+o.size.height/2}),B:new y({letter:"B",parent:o,angle:90,r:3,x:o.position.x+o.size.width/2,y:o.position.y-o.style.margin}),C:new y({letter:"C",parent:o,angle:0,r:3,x:o.position.x+o.size.width+o.style.margin,y:o.position.y+o.size.height/2}),D:new y({letter:"D",parent:o,angle:270,r:3,x:o.position.x+o.size.width/2,y:o.position.y+o.size.height+o.style.margin})},o}return v(t,e),t.prototype.moveTo=function(e,t){var o=this.position.x-e,n=this.position.y-t;Object.values(this.ports).forEach((function(e){e.connectionPoint.point.x-=o,e.connectionPoint.point.y-=n,e.isBusy&&e.reconnect()})),this.position.x=e,this.position.y=t},t.prototype.renderAt=function(e){e.fillStyle=this.style.fillColor,e.strokeStyle=this.style.borderColor,e.lineWidth=this.style.borderThickness,e.fillRect(this.position.x,this.position.y,this.size.width,this.size.height),this.style.borderThickness>0&&e.strokeRect(this.position.x,this.position.y,this.size.width,this.size.height),Object.values(this.ports).forEach((function(t){t.renderAt(e)}))},t}(m);var _=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const b=function(e){function t(t){var o=e.call(this)||this;return o.type=t.type,o.classNames=t.classNames,o.label=t.label,o.settingsKey=t.settingsKey,o.value=t.value&&null,o.body=o.create(),o}return _(t,e),t.prototype.create=function(){var e,t=this,o=document.createElement("label");this.classNames.length>0&&(e=o.classList).add.apply(e,this.classNames),o.classList.add("app-ui__item"),o.innerText=this.label+": ";var n=null;if("text"==this.type)(n=document.createElement("span")).innerHTML=null===this.value?'<span style="color: rgba(255, 255, 255, 0.3)">null</span>':"".concat(this.value);else if("checkbox"===this.type&&this.settingsKey&&"string"==typeof this.settingsKey){var r=JSON.parse(localStorage.getItem(this.settingsKey)||"null");if(null===r)throw new Error("Can't find '".concat(this.settingsKey,"' key in settings!"));this.value=r,(n=document.createElement("input")).setAttribute("type","checkbox"),n.checked=this.value,n.addEventListener("change",(function(e){t.value=e.target.checked,localStorage.setItem(t.settingsKey,JSON.stringify(t.value))}))}return n&&o.appendChild(n),o},t.prototype.updateValue=function(e){this.value=e,this.body.children[0].innerHTML="".concat(e)},t.prototype.replaceChild=function(e){this.body.replaceChild(e,this.body.children[0])},t.prototype.resetValue=function(){this.value=null;var e=document.createElement("span");e.innerHTML='<span style="color: rgba(255, 255, 255, 0.3)">null</span>',this.body.replaceChild(e,this.body.children[0])},t}(u);const j=function(e,t,o){var n=document.createElement("div");n.classList.add("app-ui__container"),n.style.width="".concat(t,"px"),n.style.height="".concat(o,"px");var r=document.createElement("div");r.classList.add("app-ui__container-inner"),document.querySelector(e).appendChild(n),this.root=n;var s=new b({type:"checkbox",label:"Render grid",classNames:[],value:!1,settingsKey:"renderGrid"}),i=new b({type:"text",label:"Mouse target",classNames:["app-ui__mouse-target-display"],value:null,settingsKey:null});i.body.style.width="100%",this.elements={renderGrid:s,mouseTarget:i};var l=document.createElement("h3");l.innerText="[Dev UI]",l.classList.add("app-ui__title"),r.appendChild(l),r.appendChild(this.elements.renderGrid.body),r.appendChild(this.elements.mouseTarget.body),n.appendChild(r)};var T=o(838),x="#app-root",k=new i(x,500,500),S=new j(x,350,500),L=new f({size:{width:100,height:80},position:{x:50,y:50},style:{fillColor:e("darkRed"),borderColor:e("brightRed"),borderThickness:2,margin:20}}),w=new f({size:{width:100,height:80},position:{x:350,y:350},style:{fillColor:e("darkBlue"),borderColor:e("brightBlue"),borderThickness:2,margin:20}});k.foreground.appendChild(L),k.foreground.appendChild(w),L.ports.D.connectTo(w.ports.B),k.background.fill(e("carbon")),function(e,t){var o=e.canvas,n=o.width,r=o.height;e.strokeStyle=t.gridLineColor,e.lineWidth=t.gridLineThickness,e.beginPath();for(var s=0;s<=n;s+=t.gridSize)e.moveTo(s,0),e.lineTo(s,r);for(var i=0;i<=r;i+=t.gridSize)e.moveTo(0,i),e.lineTo(n,i);e.stroke()}(k.background.context,{gridSize:20,gridLineColor:"rgba(255, 255, 255, 0.025)",gridLineThickness:1});var C=function(){requestAnimationFrame(C),k.foreground.render()},E=function(e){return(0,T.json2html)({json:JSON.stringify(e),theme:"dracula",showTypeOnHover:!0})};C(),k.foreground.children.forEach((function(e){e.addEventListener("mouseover",(function(t){e.updateOpacity(.35),k.foreground.body.style.cursor="pointer",S.elements.mouseTarget.replaceChild(E({class:"RectangleShape",id:t.target.id,x:t.target.position.x,y:t.target.position.y}))})),e.addEventListener("mouseout",(function(t){e.updateOpacity(1),k.foreground.body.style.cursor="initial",S.elements.mouseTarget.resetValue()})),e.addEventListener("drag",(function(t){e.updateOpacity(.1);var o={x:e.position.x,y:e.position.y};e.moveTo(t.offset.x-e.size.width/2,t.offset.y-e.size.height/2),e.isIntersectsWith(k.foreground.children)&&e.moveTo(o.x,o.y),k.foreground.body.style.cursor="grab"})),e.addEventListener("dragend",(function(t){e.updateOpacity(.35),k.foreground.body.style.cursor="pointer"})),e.addEventListener("mouseup",(function(e){S.elements.mouseTarget.replaceChild(E({class:"RectangleShape",id:e.target.id,x:e.target.position.x,y:e.target.position.y}))})),Object.values(e.ports).forEach((function(e){e.addEventListener("mouseover",(function(){k.foreground.body.style.cursor="pointer",e.style.visibility=!0,S.elements.mouseTarget.replaceChild(E({class:"ConnectingPort",letter:e.letter,x:e.connectionPoint.point.x,y:e.connectionPoint.point.y,parent:e.parent.id,isBusy:e.isBusy,endPoint:!0===e.isBusy?e.endPoint.parent.id:null}))})),e.addEventListener("hoveron",(function(){e.style.visibility=!0})),e.addEventListener("hoveroff",(function(){e.style.visibility=!1})),e.addEventListener("mouseout",(function(){k.foreground.body.style.cursor="initial",S.elements.mouseTarget.resetValue()})),e.addEventListener("click",(function(){console.log("current selected port:",e)}))}))})),k.processIntersectionsWithMouse(),console.log(k,S,L)})()})();